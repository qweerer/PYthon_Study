# 安装后

**tag:**  #linux #linux/install #linux/firewall

- cat /etc/group
- dnf provides vim
- nmtui
- netstat -aptn
- df -h
- echo $SHELL

## selinux

修改`/etc/selinux/config` 文件
将`SELINUX=enforcing`改为`SELINUX=disabled`

## 防火墙

```shell
firewall-cmd --zone=public --add-port=80/tcp --permanent
```

## 用户

```shell
groupadd webcontrol
groupdel webcontrol

useradd -m qweerer
passwd qweerer
userdel -r qweerer

#为用户组webcontrol添加用户
gpasswd -a root webcontrol 
gpasswd -a qweerer webcontrol
#为用户组webcontrol删除用户
gpasswd -d qweerer webcontrol
```

## 添加sudo用户

```shell
vi /etc/sudoer
qweerer ALL=(ALL) ALL
```

## 调整时区

## 改变语言

```shell
vi /etc/locale.conf

LANG=zh_CN.UTF8
LANG=en_US.UTF8

localectl set-locale LANG=en_US.UTF-8
dnf install langpacks-en glibc-all-langpacks -y
# dnf install glibc-langpack-en
```

## 安装软件

- gcc (编译C语言)
- net-tools
- tar
- bzip

### 虚拟机

```shell
dnf install kernel-headers kernel-devel make
yum install elfutils-libelf-devel

yum update kernel kernel-headers kernel-devel

#启动之后
uname -r #查看当前启动的内核版本
rpm -qa | grep kernel-[0-9] #查看全部的内核
yum remove 旧版本内核 #删除旧版本内核

mount /dev/sr0 /media/virtual
cd /media/virtual/
```

## 全局变量
vi /etc/profile.d/user_loc_bin.sh在新的java.sh中输入以下内容：

```shell
export
#set local environment 
user_loc_bin=/usr/local/bin
export user_loc_bin
```
保存退出，然后给`user_loc_bin.sh`分配权限：

```shell
chmod 755
/etc/profile.d/java.sh
echo $JAVA\_HOME
```

### 全局alias

```shell
vi /etc/profile

alias docker='podman'

source /etc/profile
```

## 回收站

```shell
mkdir /recycle
vi /etc/bashrc

alias del mv -r 
```

## 设置开机启动

[开机启动](01.docker.md#开机启动)

## podman

[podman容器](podman容器.md)

修改默认目录

```shell
vim /etc/containers/storage.conf

# Primary Read/Write location of container storage
graphroot = "/var/lib/containers/storage"
```

Add SELinux rules if it is in enforcing mode.

And only if you are using SELinux in enforcing mode you must transfer the rules for the new location. Just list the SELinux rules, pick only those with the old path, and add the same rules with the new path.  
First, check the status of the SELinux with:

```shell
~ getenforce
Enforcing
```

Add the rules for the new path:

```shell
semanage fcontext -l|grep /var/lib/containers
semanage fcontext -a -e /var/lib/containers /home/podman
restorecon -Rv /home/podman
```
